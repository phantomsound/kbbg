/* ========== Base ========== */
:root{
  --purple:#4b1f8a;
  --purple-deep:#31115e;
  --black:#0b0b0f;
  --gold:#f4c542;
  --text:#f3f3f7;
  --muted:#c9c9d6;
  --surface: rgba(255,255,255,0.06);
  --surface-2: rgba(255,255,255,0.1);
  --ring: rgba(244,197,66,0.35);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body.theme-gradient{
  min-height:100vh;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(110,36,207,0.45), transparent 60%),
    linear-gradient(180deg, var(--purple) 0%, var(--purple-deep) 40%, var(--black) 100%);
  background-attachment: fixed;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
  line-height:1.6;
}

/* ========== Header ========== */
.site-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px; position:sticky; top:0; z-index:20;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0));
  backdrop-filter: blur(6px);
}
.logo{color:#fff;text-decoration:none;font-weight:700;letter-spacing:.5px}
.nav{display:flex;gap:12px;align-items:center}
.nav a{color:#fff;text-decoration:none;opacity:.8}
.nav a[aria-current="page"]{opacity:1}
.btn{
  display:inline-block;border:1px solid var(--surface-2);padding:8px 14px;border-radius:999px;
  color:#fff;text-decoration:none;background:transparent;transition:transform .1s ease, background .2s;
}
.btn:hover{transform:translateY(-1px);background:var(--surface)}
.btn-gold{border-color:var(--gold);background: linear-gradient(180deg, rgba(244,197,66,.2), rgba(244,197,66,.06)); color:#fff}
.btn-lg{padding:12px 18px}

/* ========== Hero ========== */
.hero{padding:64px 20px 24px}
.hero-inner{max-width:940px;margin:0 auto;text-align:center}
.hero h1{margin:0 0 8px;font-size:clamp(28px,4vw,44px);line-height:1.12}
.hero p{margin:0 0 18px;opacity:.9}
.hero--compact{padding-top:40px;padding-bottom:8px}

/* ========== Player Card ========== */
.player-card{
  max-width:980px;margin:28px auto;padding:16px 16px;
  display:grid;grid-template-columns:120px 1fr;gap:16px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--surface-2); border-radius:16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.player-card--center{margin-top:80px}
.player-left{display:flex;align-items:center;justify-content:center}
.artwrap{
  width:96px;height:96px;border-radius:12px;overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid var(--surface-2); display:flex;align-items:center;justify-content:center;
}
.artwrap img{width:100%;height:100%;object-fit:cover;display:block}
.player-right{min-width:0}
.np-title{font-size:13px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.np-track{font-size:18px;margin:4px 0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap}

/* Play/Pause */
.control-btn{
  width:56px;height:56px;border-radius:50%;
  border:1px solid var(--gold);
  background: radial-gradient(circle at 30% 20%, rgba(244,197,66,.35), rgba(244,197,66,.1));
  position:relative; cursor:pointer;
  box-shadow:0 4px 18px var(--ring);
}
/* Fix: perfectly center triangle and pause bars */
.control-btn::before,
.control-btn.is-playing::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-40%, -50%);
}

.control-btn::before {
  border-style: solid;
  border-width: 10px 0 10px 16px;
  border-color: transparent transparent transparent #ffffff;
}

.control-btn.is-playing::after {
  width: 18px;
  height: 18px;
  border-left: 4px solid #fff;
  border-right: 4px solid #fff;
  transform: translate(-50%, -50%);
}

/* Hide triangle when playing so only pause bars show */
.control-btn.is-playing::before{ display:none !important; }

/* Volume control */
.volume{
  display:flex; align-items:center; gap:10px;
  padding:4px 8px; border:1px solid var(--surface-2);
  border-radius:999px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.vol-btn{
  display:inline-grid; place-items:center;
  width:34px; height:34px; border-radius:50%;
  border:1px solid var(--surface-2);
  background:transparent; color:#fff; cursor:pointer;
  transition:transform .1s ease, background .2s;
}
.vol-btn:hover{ transform: translateY(-1px); background:var(--surface); }
.vol-btn.is-muted .vol-waves{ opacity:.2; }
.vol-ic{ width:18px; height:18px; fill:#fff; color:#fff; }

/* Slider track */
.vol-slider{
  -webkit-appearance:none; appearance:none;
  width:140px; height:6px; border-radius:999px; outline:none;
  background: linear-gradient(90deg, var(--gold), rgba(244,197,66,.35));
  box-shadow: inset 0 0 0 1px var(--surface-2);
}
.vol-slider:focus-visible{ outline: 2px solid var(--ring); outline-offset: 2px; }
.vol-slider::-webkit-slider-thumb{
  -webkit-appearance:none; appearance:none;
  width:16px; height:16px; border-radius:50%;
  background:#fff; border:2px solid var(--gold);
  box-shadow:0 0 0 3px rgba(244,197,66,.15);
  cursor:pointer;
}
.vol-slider::-moz-range-thumb{
  width:16px; height:16px; border-radius:50%;
  background:#fff; border:2px solid var(--gold);
  box-shadow:0 0 0 3px rgba(244,197,66,.15);
  cursor:pointer;
}
.vol-slider::-moz-range-track{
  height:6px; border-radius:999px;
  background: linear-gradient(90deg, var(--gold), rgba(244,197,66,.35));
  box-shadow: inset 0 0 0 1px var(--surface-2);
}

.tiny-note{font-size:12px;color:var(--muted);margin-top:8px}

/* ========== Recent (details) ========== */
.recent{max-width:980px;margin:14px auto 60px;padding:0 16px}
.recent-details{
  border:1px solid var(--surface-2);border-radius:12px;background:rgba(255,255,255,0.04);
  overflow:hidden;
}
.recent-details summary{
  list-style:none; cursor:pointer; padding:14px 16px; user-select:none; display:flex; align-items:center; gap:8px;
  font-weight:600;
}
.recent-details summary::-webkit-details-marker{display:none}
.recent-details[open] summary{border-bottom:1px solid var(--surface-2)}
.caret{
  width:0;height:0;border-left:6px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent;transition:transform .2s ease
}
.recent-details[open] .caret{transform:rotate(90deg)}
.recent-list{margin:0;padding:8px 10px 12px 28px}
.recent-item{
  display:flex;gap:10px; padding:6px 2px;
}
.ri-meta{min-width:0}
.ri-title{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ri-artist{font-size:14px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* ========== Footer & stores ========== */
.site-footer{margin:40px 0 20px;text-align:center;color:#cfd0da}
.site-footer a{color:#fff}
.store-row{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}
.store-row--inline{justify-content:flex-start;margin-top:14px}
.store-badge{
  border:1px solid var(--surface-2);padding:8px 12px;border-radius:10px;text-decoration:none;color:#fff;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}

/* ========== Responsive ========== */
@media (max-width: 720px){
  .player-card{grid-template-columns:72px 1fr}
  .artwrap{width:64px;height:64px;border-radius:10px}
  .control-btn{width:52px;height:52px}
  .control-btn::before{left:19px; top:16px}
  .control-btn.is-playing::after{left:17px; top:17px}
  .vol-slider{ width:110px; }
}
@media (min-width: 1100px){
  .player-card{max-width:1080px}
}

/* ========== EQ Animation ========== */
.eq-bars { display:flex; align-items:flex-end; gap:3px; height:20px; }
.eq-bar { width:3px; background:var(--gold); animation:eq-bounce 1s infinite ease-in-out; }
.eq-bar:nth-child(2){ animation-delay:.2s; }
.eq-bar:nth-child(3){ animation-delay:.4s; }
.eq-bar:nth-child(4){ animation-delay:.6s; }
.eq-bar:nth-child(5){ animation-delay:.8s; }
@keyframes eq-bounce { 0%,100%{height:4px;} 50%{height:20px;} }

/* A11y utility */
.sr-only{
  position:absolute!important; width:1px; height:1px;
  padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* ===== Hub page additions ===== */
.hub-player{margin-top:18px}
.hub-socials{max-width:980px;margin:10px auto 16px;padding:0 16px}
.hub-socials-inner{
  display:flex; gap:10px; justify-content:center; flex-wrap:wrap;
  border:1px solid var(--surface-2); border-radius:12px;
  background:rgba(255,255,255,0.04); padding:10px;
}
.hub-social{
  display:inline-flex; align-items:center; justify-content:center;
  min-width:36px; height:36px; border-radius:999px; padding:0 10px;
  text-decoration:none; color:#fff; border:1px solid var(--surface-2);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  font-weight:700; letter-spacing:.2px;
}
.hub-social--ig:hover{ box-shadow:0 0 0 2px rgba(225,48,108,.25) inset; }
.hub-social--fb:hover{ box-shadow:0 0 0 2px rgba(24,119,242,.25) inset; }
.hub-social--x:hover{  box-shadow:0 0 0 2px rgba(255,255,255,.2) inset; }

/* Two-column layout (Hub) */
.hub-layout{
  max-width:1100px; margin:10px auto 60px; padding:0 16px;
  display:grid; grid-template-columns: 2fr 1fr; gap:18px; align-items:start;
}
.hub-main{ min-width:0; }
.hub-aside{
  position:sticky; top:78px; /* stays visible as you scroll */
}
.hub-aside-title{
  margin:0 0 10px; font-size:20px; letter-spacing:.4px;
}

/* Hub grid/cards */
.hub-categories{ max-width:100%; margin:8px 0 6px; display:flex; gap:8px; flex-wrap:wrap; }
.hub-cat{
  border:1px solid var(--surface-2); border-radius:999px; padding:8px 12px;
  background:transparent; color:#fff; cursor:pointer;
}
.hub-cat.is-active{ border-color: var(--gold); box-shadow: 0 0 0 2px rgba(244,197,66,.15) inset; }

.hub-grid{
  display: grid; gap: 14px;
  grid-template-columns: repeat(3, 1fr);
}
.hub-card{
  display:block; text-decoration:none; color:#fff;
  border:1px solid var(--surface-2); border-radius:14px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  padding:16px; min-height:160px; position:relative; overflow:hidden;
  transition: transform .12s ease, background .2s ease, box-shadow .2s ease;
}
.hub-card:hover{ transform: translateY(-2px); background: rgba(255,255,255,.06); box-shadow: 0 8px 24px rgba(0,0,0,.25); }
.hub-tag{
  position:absolute; top:12px; left:12px; font-size:12px; letter-spacing:.08em;
  text-transform:uppercase; color: var(--muted);
}
.hub-card-title{ margin:24px 0 6px; font-size:20px; line-height:1.25; }
.hub-card-blurb{ margin:0; color:#cfd0da; font-size:14px; }

@media (max-width: 1000px){
  .hub-layout{ grid-template-columns: 1fr; }
  .hub-aside{ position:static; }
  .hub-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 560px){
  .hub-grid{ grid-template-columns: 1fr; }
}

/* ===== Timeline styles (sidebar block) ===== */
.timeline-list{
  margin:0; padding:0; list-style:none; position:relative;
}
.timeline-list::before{
  content:""; position:absolute; left:110px; top:0; bottom:0;
  width:2px; background:linear-gradient(180deg, var(--surface-2), rgba(255,255,255,.02));
}
.tl-item{
  display:grid; grid-template-columns:110px 1fr; gap:16px;
  padding:12px 0; position:relative;
}
.tl-item::before{
  content:""; position:absolute; left:102px; top:28px; width:10px; height:10px; border-radius:50%;
  background:var(--gold); box-shadow:0 0 0 3px rgba(244,197,66,.18);
}
.tl-date{
  font-weight:700; color:#fff; opacity:.9; text-align:right; padding-right:8px;
}
.tl-content{
  border:1px solid var(--surface-2); border-radius:12px; padding:12px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.tl-title{ font-size:16px; margin:0 0 4px; }
.tl-src{
  display:inline-block; margin-top:6px; font-size:13px; color:#fff; opacity:.8;
  text-decoration:none; border-bottom:1px dotted rgba(255,255,255,.35);
}
.tl-src:hover{ opacity:1; }
@media (max-width:640px){
  .timeline-list::before{ left:90px; }
  .tl-item{ grid-template-columns:90px 1fr; }
  .tl-item::before{ left:82px; }
}

/* === Controls layout & z-order fix (2025-10-11b) === */
.player-card--center .controls{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:16px;
  flex-wrap:nowrap;
}
.control-btn{ position:relative; z-index:2; flex:0 0 auto; }
.player-card--center .volume{ position:relative; z-index:1; flex:0 0 auto; }

