/* ========== Base ========== */
:root{
  --purple:#4b1f8a;
  --purple-deep:#31115e;
  --black:#0b0b0f;
  --gold:#f4c542;
  --text:#f3f3f7;
  --muted:#c9c9d6;
  --surface: rgba(255,255,255,0.06);
  --surface-2: rgba(255,255,255,0.1);
  --ring: rgba(244,197,66,0.35);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body.theme-gradient{
  min-height:100vh;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(110,36,207,0.45), transparent 60%),
    linear-gradient(180deg, var(--purple) 0%, var(--purple-deep) 40%, var(--black) 100%);
  background-attachment: fixed;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;
  line-height:1.6;
}

/* ========== Header ========== */
.site-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 20px; position:sticky; top:0; z-index:20;
  background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0));
  backdrop-filter: blur(6px);
}
.logo{color:#fff;text-decoration:none;font-weight:700;letter-spacing:.5px}
.nav{display:flex;gap:12px;align-items:center}
.nav a{color:#fff;text-decoration:none;opacity:.8}
.nav a[aria-current="page"]{opacity:1}
.btn{
  display:inline-block;border:1px solid var(--surface-2);padding:8px 14px;border-radius:999px;
  color:#fff;text-decoration:none;background:transparent;transition:transform .1s ease, background .2s;
}
.btn:hover{transform:translateY(-1px);background:var(--surface)}
.btn-gold{border-color:var(--gold);background: linear-gradient(180deg, rgba(244,197,66,.2), rgba(244,197,66,.06)); color:#fff}
.btn-lg{padding:12px 18px}

/* ========== Hero ========== */
.hero{padding:64px 20px 24px}
.hero-inner{max-width:940px;margin:0 auto;text-align:center}
.hero h1{margin:0 0 8px;font-size:clamp(28px,4vw,44px);line-height:1.12}
.hero p{margin:0 0 18px;opacity:.9}

/* ========== Player Card ========== */
.player-card{
  max-width:980px;margin:28px auto;padding:16px 16px;
  display:grid;grid-template-columns:120px 1fr;gap:16px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--surface-2); border-radius:16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.player-card--center{margin-top:80px}
.player-left{display:flex;align-items:center;justify-content:center}
.artwrap{
  width:96px;height:96px;border-radius:12px;overflow:hidden;
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  border:1px solid var(--surface-2); display:flex;align-items:center;justify-content:center;
}
.artwrap img{width:100%;height:100%;object-fit:cover;display:block}
.player-right{min-width:0}
.np-title{font-size:13px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted)}
.np-track{font-size:18px;margin:4px 0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.controls{display:flex;align-items:center;gap:12px}
.control-btn{
  width:56px;height:56px;border-radius:50%;
  border:1px solid var(--gold);
  background: radial-gradient(circle at 30% 20%, rgba(244,197,66,.35), rgba(244,197,66,.1));
  position:relative; cursor:pointer;
  box-shadow:0 4px 18px var(--ring);
}
.control-btn::before, .control-btn::after{
  content:''; position:absolute; inset:0; display:block; margin:auto;
}
.control-btn::before{ /* play icon */
  border-style:solid; border-width:10px 0 10px 16px; border-color:transparent transparent transparent #ffffff;
  left:21px; top:18px; width:0;height:0;
}
.control-btn.is-playing::before{display:none}
.control-btn.is-playing::after{ /* pause icon */
  width:18px;height:18px; border-left:4px solid #fff; border-right:4px solid #fff; left:19px; top:19px;
}

.tiny-note{font-size:12px;color:var(--muted);margin-top:8px}

/* ========== Recent (details) ========== */
.recent{max-width:980px;margin:14px auto 60px;padding:0 16px}
.recent-details{
  border:1px solid var(--surface-2);border-radius:12px;background:rgba(255,255,255,0.04);
  overflow:hidden;
}
.recent-details summary{
  list-style:none; cursor:pointer; padding:14px 16px; user-select:none; display:flex; align-items:center; gap:8px;
  font-weight:600;
}
.recent-details summary::-webkit-details-marker{display:none}
.recent-details[open] summary{border-bottom:1px solid var(--surface-2)}
.caret{
  width:0;height:0;border-left:6px solid #fff;border-top:5px solid transparent;border-bottom:5px solid transparent;transition:transform .2s ease
}
.recent-details[open] .caret{transform:rotate(90deg)}
.recent-list{margin:0;padding:8px 10px 12px 28px}
.recent-item{
  display:flex;gap:10px; padding:6px 2px;
}
.ri-meta{min-width:0}
.ri-title{font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ri-artist{font-size:14px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* ========== Footer & stores ========== */
.site-footer{margin:40px 0 20px;text-align:center;color:#cfd0da}
.site-footer a{color:#fff}
.store-row{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}
.store-row--inline{justify-content:flex-start;margin-top:14px}
.store-badge{
  border:1px solid var(--surface-2);padding:8px 12px;border-radius:10px;text-decoration:none;color:#fff;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}

/* ========== Responsive ========== */
@media (max-width: 720px){
  .player-card{grid-template-columns:72px 1fr}
  .artwrap{width:64px;height:64px;border-radius:10px}
  .control-btn{width:52px;height:52px}
  .control-btn::before{left:19px; top:16px}
  .control-btn.is-playing::after{left:17px; top:17px}
}

/* ========== EQ Animation ========== */
.eq-bars {
  display: flex;
  align-items: flex-end;
  gap: 3px;
  height: 20px;
}
.eq-bar {
  width: 3px;
  background: var(--gold);
  animation: eq-bounce 1s infinite ease-in-out;
}
.eq-bar:nth-child(2){ animation-delay: .2s; }
.eq-bar:nth-child(3){ animation-delay: .4s; }
.eq-bar:nth-child(4){ animation-delay: .6s; }
.eq-bar:nth-child(5){ animation-delay: .8s; }

@keyframes eq-bounce {
  0%, 100% { height: 4px; }
  50% { height: 20px; }
}
